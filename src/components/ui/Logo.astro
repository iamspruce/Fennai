---
interface Props {
    href?: string;
    size?: number;
}

const { href = "/", size = 48 } = Astro.props;
---

<a href={href} class="logo" aria-label="Go to Home">
    <svg
        width={size}
        height={size}
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <defs>
            <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop
                    offset="0%"
                    style="stop-color:var(--orange-9);stop-opacity:1"></stop>
                <stop
                    offset="100%"
                    style="stop-color:var(--orange-10);stop-opacity:1"></stop>
            </linearGradient>

            <filter
                id="softShadow"
                x="-20%"
                y="-20%"
                width="140%"
                height="140%"
            >
                <feDropShadow
                    dx="0"
                    dy="2"
                    stdDeviation="2"
                    flood-color="#000"
                    flood-opacity="0.15"></feDropShadow>
            </filter>
        </defs>

        <g filter="url(#softShadow)">
            <rect
                class="bar bar-1"
                x="12"
                y="10"
                width="4"
                height="28"
                rx="2"
                fill="url(#bgGradient)"></rect>

            <rect
                class="bar bar-2"
                x="18"
                y="14"
                width="4"
                height="20"
                rx="2"
                fill="url(#bgGradient)"></rect>

            <rect
                class="bar bar-3"
                x="24"
                y="18"
                width="4"
                height="12"
                rx="2"
                fill="url(#bgGradient)"></rect>

            <rect
                class="bar bar-4"
                x="30"
                y="22"
                width="4"
                height="4"
                rx="2"
                fill="url(#bgGradient)"></rect>
        </g>
    </svg>
</a>

<style>
    .logo {
        display: inline-block;
        /* Overall container lift */
        transition: transform 0.3s ease;
    }

    /* Target the bars for the spring animation */
    .bar {
        transform-origin: center;
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    /* On Hover: Scale the bars up with a spring bounce */
    .logo:hover .bar {
        transform: scaleY(1.25) scaleX(1.1);
    }

    /* Stagger the animation for a "wave" effect */
    .logo:hover .bar-1 {
        transition-delay: 0ms;
    }
    .logo:hover .bar-2 {
        transition-delay: 60ms;
    }
    .logo:hover .bar-3 {
        transition-delay: 120ms;
    }
    .logo:hover .bar-4 {
        transition-delay: 180ms;
    }

    /* Optional: active state squish */
    .logo:active .bar {
        transform: scale(0.9);
        transition-duration: 0.1s;
        transition-delay: 0ms;
    }
</style>
